<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="style.css"></head>
<body id="root">
<h1>Execution Flow</h1><p>When you click a shortcut, either on your home screen or within the app, it will execute. This means it will go through the following steps:<h2>1. Ask for Confirmation</h2><p>If you selected the <em>"Require confirmation before execution"</em> option for your shortcut, you will be asked to confirm in this step. If you select <em>"Cancel"</em> the remaining steps will not be executed.<h2>2. Check Wi-Fi SSID</h2><p>If you configured your shortcut to only run when on a specific Wi-Fi, this step will check whether that condition is met. If it is not, the remaining steps will not be executed and instead you will be prompted to switch Wi-Fis.<h2>3. Delay</h2><p>If you set your shortcut up to have a delay it will be applied in this step. E.g., if you selected that your shortcut should be delayed by 5 seconds then the app will wait for 5 seconds before executing the next steps.<h2>4. Resolve Files</h2><p>If your shortcut needs one or more files, e.g. for its request body or for a form parameter, they will be resolved in this step. You will be prompted with one or multiple file pickers.<p>If you cancel any of the file pickers then the remaining steps will not be executed.<h2>5. Run "Global" Script</h2><p>If you added any JavaScript code into the <em>"Global Scripting"</em> section in the app's settings then that code will execute in this step.<p>If the script fails (e.g., due to a syntax error) then an error message will be displayed and the remaining steps will not be executed.<p>For more details see the documentation on <a href=scripting.md>Scripting</a>.<h2>6. Run "Before" Script</h2><p>If you added any JavaScript code into the <em>"Run before Execution"</em> textarea in your shortcut's <em>"Scripting"</em> section (or your shortcut is a <em>Scripting</em> shortcut) then that code will be executed in this step.<p>If the script fails (e.g., due to a syntax error) then an error message will be displayed and the remaining steps will not be executed.<p>For more details see the documentation on <a href=scripting.md>Scripting</a>.<h2>7. Resolve Variables</h2><p>If you use any variables in your shortcut, they will be resolved in this step. E.g., if you used a variable of type <em>"Color Input</em>" you will be asked to pick a color, or if you have a variable of type <em>"Text Input"</em> you will be presented with a dialog window that asks you to enter a text value.<p>If you select <em>"Cancel"</em> on any of the variable resolution dialogs then the remaining steps will not be executed.<p>Note that it is possible for some variables to already be resolved before this step, e.g. if you ask for their value via Scripting in step 5 or 6 or if you explicitly passed a value for a variable when triggering the shortcut (which is possible when starting a shortcut via Intent, deep-link or Scripting).<p>For more information see the <a href=variables.md>Variables</a> documentation.<h2>8. Send HTTP Request</h2><p>In this step the actual HTTP request is sent and the response received.<p>If the request fails due to a network problem (e.g., because your device is not connected to the internet) and you selected the <em>"Wait for connection when offline"</em> option then it will be rescheduled at this point. Once a network connection is detected the execution will start over from step 5.<h2>9. Run "Success" or "Failure" Script</h2><p>If the HTTP request was a success (i.e., it completed with a 2xx response code, or a 3xx response code and following redirects was disabled) and if you added any JavaScript code into the <em>"Run on Success"</em> textarea in your shortcut's <em>"Scripting"</em> section then that code will be executed in this step.<p>Similarly, if the HTTP request failed (e.g., because of a network error or because of a 4xx or 5xx response code) and if you added any JavaScript code into the <em>"Run on Failure"</em> textarea in your shortcut's <em>"Scripting"</em> section then that code will be executed in this step.<p>If the script fails (e.g., due to a syntax error or runtime error) then an error message will be displayed and the remaining steps will not be executed.<p>For more details see the documentation on <a href=scripting.md>Scripting</a>.<h2>10. Store Response</h2><p>If you configured your shortcut to store the HTTP response into a file, that will happen in this step. A file is only created for a successful request.<h2>10. Display Result</h2><p>Depending on what options you picked in the <em>"Response Handling"</em> section of your shortcut, the response or a pre-defined message will be displayed in this final step, either as a toast, in a dialog window or a fullscreen window.<h2>11. Execute Next Shortcut</h2><p>If you called <a href=scripting.md#trigger-shortcut><code>enqueueShortcut</code></a> at any point in the Scripting of your shortcut, that enqueued shortcut will now be executed, possibly after a delay if you specified one.
</body>
</html>
